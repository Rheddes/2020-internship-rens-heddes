########################################################################################
FROM python:3.8-slim-buster
########################################################################################

USER root

RUN useradd -m runner

USER runner

WORKDIR /home/runner

COPY --chown=runner requirements.txt .
RUN python -m pip install -r requirements.txt --no-warn-script-location

COPY --chown=runner src src/

ENTRYPOINT ["python", "-u", "/home/runner/src/entrypoint_repo_scanner.py"]
